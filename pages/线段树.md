alias:: Segment Tree

- 线段树是算法竞赛中常用的用来维护 **区间信息** 的数据结构。
- 线段树可以在  O(logN) 的时间复杂度内实现 **单点修改、区间修改、区间查询（区间求和，求区间最大值，求区间最小值）**等操作。
	- 对比：[[树状数组]] 无法实现区间修改
-
- **建树**
	- 线段树将每个长度不为 1 的区间划分成左右两个区间递归求解，把整个线段划分为一个树形结构，通过合并左右两区间信息来求得该区间的信息。
	- ![](https://oi-wiki.org/ds/images/segt1.svg)
	- $d_i$ 的左儿子节点就是 $d_{2\times i}$，$d_i$ 的右儿子节点就是 $d_{2\times i+1}$
	- 如果 $d_i$ 表示的是区间 $[s,t]$（即 $d_i=a_s+a_{s+1}+ \cdots +a_t$) 的话，那么 $d_i$ 的左儿子节点表示的是区间 $[ s, \frac{s+t}{2} ]$，$d_i$ 的右儿子表示的是区间 $[ \frac{s+t}{2} +1,t ]$
	- 在实现时，我们考虑递归建树。
	-
	-