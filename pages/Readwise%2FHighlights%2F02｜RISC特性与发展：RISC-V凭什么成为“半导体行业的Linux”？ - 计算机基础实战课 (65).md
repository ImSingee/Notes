title:: Readwise/Highlights/02｜RISC特性与发展：RISC-V凭什么成为“半导体行业的Linux”？ - 计算机基础实战课 (65)
author:: [[彭东]]
full-title:: 02｜RISC特性与发展：RISC-V凭什么成为“半导体行业的Linux”？ - 计算机基础实战课
category:: #articles
url:: https://time.geekbang.org/column/article/541776

- 为什么说 RISC-V 很简单？RISC-V 提供了一个非常强大且开放的精简指令集架构，只有 32 个通用寄存器、40 多条常用指令、4 个特权级。如果需要其它功能，则要进行指令集的扩展，单核心的规范文档才不到 300 页，一个人在一周之内就能搞清楚。 #Highlight #[[2022-08-01]]
- 有了特权级的存在，就给指令加上了权力，从而去控制用指令编写的程序。应用程序只能干应用程序该干的事情，不能越权操作。操作系统则拥有更高的权力，能对系统的资源进行管理。 #Highlight #[[2022-08-01]]
- 机器特权级（M）：RISC-V 中 hart 可以执行的最高权限模式。在 M 模式下运行的 hart，对内存、I/O 和一些必要的底层功能（启动和系统配置）有着完全的控制权。因此，它是唯一一个所有标准 RISC-V CPU 都必须实现的权限级。实际上，普通的 RISC-V 微控制器仅支持机器特权级。 #Highlight #[[2022-08-01]]
- 一个 RISC-V 硬件线程（hart），相当于一个 CPU 内的独立的可执行核心，在任一时刻，只能运行在某一个特权级上，这个特权级由 CSR（控制和状态寄存器）指定和配置。 #Highlight #[[2022-08-01]]
- 如果实现支持 F/D 扩展指令集的 CPU，则需要额外支持 32 个浮点寄存器。而如果实现只支持 RV32E 指令集的嵌入式 CPU，则可以将 32 个通用寄存器缩减为 16 个通用寄存器。 #Highlight #[[2022-08-01]]
- RISC-V 的规范定义了 32 个通用寄存器以及一个 PC 寄存器，这对于 RV32I、RV64I、RV128I 指令集都是一样的，只是寄存器位宽不一样。 #Highlight #[[2022-08-01]]