- #CruelFundamental #[[2022-08-11]] [讨论](https://github.com/CYZH1307/CruelFundamental/tree/main/homework/202208/11) #操作系统 #协程
-
- 协程（或绿色线程）的本质：一个不由操作系统调度的线程，用于减少少下文切换开销
	- 进程上下文切换
		- 切换虚拟内存地址空间、切换页表目录、刷新 TLB
		- 切换内核态堆栈
		- 切换 CPU 上下文
		- 【操作系统负责，会涉及 CPU 特权级切换】
	- 线程上下文切换
		- 切换内核态堆栈
		- 切换 CPU 上下文
		- 【操作系统负责，会涉及 CPU 特权级切换】
	- 协程上下文切换
		- 切换 CPU 上下文
		- 【用户进程负责，不会涉及 CPU 特权级切换】
-
- 协程的实现原理
	- 在堆上**模拟**栈空间，在需要上下文切换时线程直接修改特定指针即可
-
-