title:: Readwise/Highlights/05 | The Google File System （三）： 多写几次也没关系 - 大数据经典论文解读
author:: [[徐文浩]]
full-title:: 05 | The Google File System （三）： 多写几次也没关系 - 大数据经典论文解读
category:: #articles
url:: https://time.geekbang.org/column/article/422636

- GFS 的设计原则，就是简单、围绕硬件性能设计，以及在这两个前提下对于一致性的宽松要求。可以说，GFS 不是一个“黑科技”系统，而是一个非常优秀的工程化系统。 #Highlight #[[2022-03-15]]
- 事实上，GFS 的客户端里面自带了对写入的数据去添加校验和（checksum），并在读取的时候计算来验证数据完整性的功能。而对于数据可能重复写入多次的问题，你也可以对每一条要写入的数据生成一个唯一的 ID，并且在里面带上当时的时间戳。这样，即使这些日志顺序不对、有重复，你也可以很容易地在你后续的数据处理程序中，通过这个 ID 进行排序和去重。 #Highlight #[[2022-03-15]]
- 随机写入并不是 GFS 设计的主要的数据写入模式，GFS 设计了一个专门的操作，叫做记录追加（Record Appends）。这是 GFS 希望我们主要使用的数据写入的方式，而且它是原子性（Atomic）的，能够做到在并发写入时候是基本确定的。 #Highlight #[[2022-03-15]]
- 如果想要随机修改 GFS 上的数据，一般会建议使用方在客户端的应用层面，保障数据写入是顺序的，从而可以避免并发写入的出现。 #Highlight #[[2022-03-15]]