title:: Readwise/Highlights/03 | 内存布局：应用程序是如何安排数据的？ - 编程高手必学的内存知识
author:: [[海纳]]
full-title:: 03 | 内存布局：应用程序是如何安排数据的？ - 编程高手必学的内存知识
category:: #articles
url:: https://time.geekbang.org/column/article/431904

- 从 0 地址开始的内存区域并不是直接就是代码段区域，而是一段不可访问的保留区。这是因为在大多数的系统里，我们认为比较小数值的地址不是一个合法地址，例如，我们通常在 C 的代码里会将无效的指针赋值为 NULL。因此，这里会出现一段不可访问的内存保留区，防止程序因为出现 bug，导致读或写了一些小内存地址的数据，而使得程序跑飞。 #Highlight #[[2022-10-18]]
- 在实践中，我们可以通过cat /proc/pid/maps来查看某个进程的实际虚拟内存布局。 #Highlight #[[2022-10-18]]
- Section 主要是指在磁盘中的程序段，而 Segment 则用来指代内存中的程序段，Segment 是将具有相同权限属性的 Section 集合在一起，系统为它们分配的一块内存空间。 #Highlight #[[2022-10-18]]
- 对于未初始化的全局变量和静态变量，因为编译器知道它们的初始值都是 0，因此便不需要再在程序的二进制映像中存放这么多 0 了，只需要记录他们的大小即可，这便是 BSS 段。BSS 段这个缩写名字是 Block Started by Symbol，但很多人可能更喜欢把它记作 Better Save Space 的缩写。 #Highlight #[[2022-10-18]]
- 对于有初值的变量，它的初始值会存放在程序的二进制文件中，而且，这些数据部分也会被装载到内存中，即程序的数据段。数据段存放的是程序中已经初始化且不为 0 的全局变量和静态变量。 #Highlight #[[2022-10-18]]