title:: Readwise/Highlights/20 | React 的未来：什么是服务器端组件？ - React Hooks 核心原理与实战
author:: [[王沛]]
full-title:: 20 | React 的未来：什么是服务器端组件？ - React Hooks 核心原理与实战
category:: #articles
url:: https://time.geekbang.org/column/article/393688
- 我们可以把 Server Components 看作 SSR 的进阶版本。传统的 SSR，每次只能 render 整个页面，而现在则可以在组件级别 render 了，大大提升了灵活性。 #Highlight #[[2022-09-23]]
- Server Components 为我们开发具有极致性能的前端应用，提供了一个良好的基础。一方面，它能够让我们通过用服务器端渲染更多的组件，把前端包的大小控制得很小，从而提升加载性能。
  另一方面，它能让页面中的一部分能够在服务器端渲染。不但能够简化前端异步请求的逻辑，而且在组件内需要多个数据请求时，也会提升渲染速度。 #Highlight #[[2022-09-23]]
- 所需要的任何依赖只需要存在于服务器端。比如说，它依赖了 moment 这个 library 去做日期的格式化，那么 moment 就不需要打包到前端，只需要在服务器端存在就可以了，我们也就不再需要担心包的大小了。 #Highlight #[[2022-09-23]]
- 组件在服务器端运行，所以在代码中可以直接去读取文件系统、查询数据库等，数据逻辑会非常简单 #Highlight #[[2022-09-23]]
- React 组件都是状态驱动的，当状态发生变化时，整个组件树就会进行一次整体的刷新。这个过程是完全同步的。
  也就是说，React 会将所有的 DOM 变化一次性渲染到浏览器中。这在应用非常复杂的场景下，会成为一个潜在的性能瓶颈。所以 React 就提出了 Suspense 这样一个概念，它允许组件暂时挂起刷新操作，让整个渲染过程可以被切分成一个个独立的部分，从而为优化性能提供了空间。 #Highlight #[[2022-09-23]]
- Suspense，顾名思义，就是挂起当前组件的渲染，直到异步操作完成。虽然这是一个“旧特性”，毕竟早在 2018 年 10 月发布的 React 16.6 版本中就已经引入了，但是因为一直处于试验状态，没有正式宣布可用 #Highlight #[[2022-09-23]]