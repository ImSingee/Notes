title:: Readwise/Highlights/03｜硬件语言筑基（一）：从硬件语言开启手写CPU之旅 - 计算机基础实战课
author:: [[彭东]]
full-title:: 03｜硬件语言筑基（一）：从硬件语言开启手写CPU之旅 - 计算机基础实战课
category:: #articles
url:: https://time.geekbang.org/column/article/543867

- 一般情况下，你所接触到的处理器芯片，已经不是传统意义上的 CPU 了，比如在业界很有名的国产手机芯片华为麒麟 990 芯片。我把麒麟 990 的功能模块图贴在了后面，对照图片会更直观。这样一款芯片，包含了 CPU 核、高速缓存、NPU、GPU、DDR、PMU 等模块。
  而在芯片设计时，根据不同模块的功能特点，通常把它们分为数字电路模块和模拟电路模块。 #Highlight #[[2022-08-01]]
- 模拟电路还是像早期的半导体电路那样，处理的是连续变化的模拟信号，所以只能用传统的电路设计方法。而数字电路处理的是已经量化的数字信号，往往用来实现特定的逻辑功能，更容易被抽象化，所以就产生了专门用于设计数字电路的硬件描述语言。 #Highlight #[[2022-08-01]]
- 一般情况下，你所接触到的处理器芯片，已经不是传统意义上的 CPU 了，比如在业界很有名的国产手机芯片华为麒麟 990 芯片。我把麒麟 990 的功能模块图贴在了后面，对照图片会更直观。这样一款芯片，包含了 CPU 核、高速缓存、NPU、GPU、DDR、PMU 等模块。 #Highlight #[[2022-08-01]]
- 一个模块的定义是以关键字 module 开始，以 endmodule 结束。module 关键字后面跟的 counter 就是这个模块的名称。 #Highlight #[[2022-08-01]]
- 详细的基础知识，一两天自然是看不完的。而当你坚持了一段时间把它看完，以为可以上手写代码的时候，又会发现前面的基本语句全都忘了。这样的学习方法并不可取，效果也不好 #Highlight #[[2022-08-01]]
- 现在业界的 IEEE 标准主要有 VHDL 和 Verilog HDL 这两种硬件描述语言 #Highlight #[[2022-08-01]]
- 用 if 设计的语句所对应电路是有优先级的，也就是多级串联的 MUX 电路。而 case 语句对应的电路是没有优先级的，是一个多输入的 MUX 电路。设计时，只要我们合理使用这两个语句，就可以优化电路时序或者节省硬件电路资源。 #Highlight #[[2022-08-01]]
- 移位运算符，左移   <<  和右移 >> ，在生成实际电路时，左移会增加位宽，右移位宽保存不变 #Highlight #[[2022-08-01]]
- 特殊的“X”和“Z”值。逻辑“X”表示电平未知，输入端存在多种输入情况，可能是高电平，也可能是低电平；逻辑“Z”表示高阻态，外部没有激励信号，是一个悬空状态。 #Highlight #[[2022-08-01]]
- 为了代码的简洁明了，Verilog 可以用不同的格式，表示同样的数值。比如要表示 4 位宽的数值“10”，二进制写法为 4’b1010，十进制写法为 4’d10，十六进制写法为 4’ha。这里我需要特殊说明一下，数据在实际存储时还是用二进制，位宽表示储存时二进制占用宽度。 #Highlight #[[2022-08-01]]
- 寄存器 reg 类型表示抽象数据存储单元，它对应的就是一种寄存器电路。reg 默认初始值为 X（不确定值），换句话说就是，reg 电路在上电之后，输出高电平还是低电平是不确定的，一般是在系统复位信号有效时，给它赋一个确定值。比如例子中的 cnt_r，在复位信号 reset_n 等于低电平时，就会给 cnt_r 赋“0”值。 #Highlight #[[2022-08-01]]